<div class="auth-container">
  <mat-card>
    <mat-card-title>
      {{ isLoginMode ? 'Login into your account' : 'Create an account' }}
    </mat-card-title>
    <mat-card-content>
      <form [formGroup]="authForm" (ngSubmit)="onSubmit()">

        <mat-form-field appearance="fill" *ngIf="!isLoginMode">
          <mat-label>Name</mat-label>
          <input
            matInput
            formControlName="name"
            placeholder="Enter your name"
            [ngClass]="{ 'invalid': authForm.controls['name'].invalid && authForm.controls['name'].touched }"
          />
          <mat-error *ngIf="authForm.controls['name'].hasError('required')">
            Name is required
          </mat-error>
        </mat-form-field>

 
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input
            matInput
            formControlName="email"
            placeholder="Enter your email"
            [ngClass]="{ 'invalid': authForm.controls['email'].invalid && authForm.controls['email'].touched }"
            required
          />
          <mat-error *ngIf="authForm.controls['email'].hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="authForm.controls['email'].hasError('email')">
            Enter a valid email address
          </mat-error>
        </mat-form-field>

      
        <mat-form-field appearance="fill" *ngIf="!isLoginMode">
          <mat-label>Phone Number</mat-label>
          <input
            matInput
            formControlName="phoneNumber"
            placeholder="Enter your phone number"
            [ngClass]="{ 'invalid': authForm.controls['phoneNumber'].invalid && authForm.controls['phoneNumber'].touched }"
          />
          <mat-error *ngIf="authForm.controls['phoneNumber'].hasError('required')">
            Phone number is required
          </mat-error>
        </mat-form-field>

 
        <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <input
            matInput
            formControlName="password"
            type="password"
            placeholder="Enter your password"
            [ngClass]="{ 'invalid': authForm.controls['password'].invalid && authForm.controls['password'].touched }"
            required
          />
          <mat-error *ngIf="authForm.controls['password'].hasError('required')">
            Password is required
          </mat-error>
          <mat-error *ngIf="authForm.controls['password'].hasError('minlength')">
            Password must be at least 6 characters long
          </mat-error>
        </mat-form-field>

    
        <mat-checkbox formControlName="subscribe" *ngIf="!isLoginMode">
          Subscribe to notifications
        </mat-checkbox>

        <div class="auth-actions">
          <button mat-raised-button color="primary" type="submit" [disabled]="authForm.invalid">
            {{ isLoginMode ? 'Login' : 'Sign Up' }}
          </button>
        </div>

        <div class="switch-mode">
          <span>
            {{ isLoginMode ? "Don't have an account?" : "Already have an account?" }}
          </span>
          <button mat-button type="button" (click)="onSwitchMode()">
            {{ isLoginMode ? 'Sign Up' : 'Login' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
